<!doctype html><html lang=vi class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.154.5"><meta name=description content><meta name=author content="journeyoftheaverageguy@gmail.com"><link rel=icon href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/favicon.png type=image/png><title>C·∫•u h√¨nh RDS v√† k·∫øt n·ªëi v·ªõi Dbeaver :: AWS System Manager</title><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/nucleus.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/fontawesome-all.min.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/hybrid.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/featherlight.min.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/perfect-scrollbar.min.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/auto-complete.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/atom-one-dark-reasonable.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/theme.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/hugo-theme.css?1768200904 rel=stylesheet><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/css/theme-workshop.css?1768200904 rel=stylesheet><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/jquery-3.3.1.min.js?1768200904></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/3.2/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/><svg id="Layer_1" data-name="Layer 1" viewBox="0 0 60 30" width="30%"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2 4.28 4.28.0 011.46-3.4A6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26q-.35.0-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64l-2.56 10.7a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84q0-.52.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37 5.27 5.27.0 011.7-.86A7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79q0 .52-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/lunr.min.js?1768200904></script><script type=text/javascript src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/auto-complete.js?1768200904></script><script type=text/javascript>var baseurl="https://bm-hien.github.io/AWS_InternshipReport_FCJ//vi"</script><script type=text/javascript src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/search.js?1768200904></script></div><div class=highlightable><ul class=topics><li data-nav-id=/vi/1.-worklog/ title="Nh·∫≠t K√Ω C√¥ng Vi·ªác" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/><b>1. </b>Nh·∫≠t K√Ω C√¥ng Vi·ªác
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/1.-worklog/week1/ title="Tu·∫ßn 1: N·ªÅn T·∫£ng" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week1/><b>1.1. </b>Tu·∫ßn 1: N·ªÅn T·∫£ng
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1.-worklog/week2/ title="Tu·∫ßn 2: D·ªãch V·ª• T√≠nh To√°n" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week2/><b>1.2. </b>Tu·∫ßn 2: D·ªãch V·ª• T√≠nh To√°n
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1.-worklog/week3/ title="Tu·∫ßn 3: L∆∞u Tr·ªØ & C∆° S·ªü D·ªØ Li·ªáu" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week3/><b>1.3. </b>Tu·∫ßn 3: L∆∞u Tr·ªØ & C∆° S·ªü D·ªØ Li·ªáu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1.-worklog/week4/ title="Tu·∫ßn 4: M·∫°ng & B·∫£o M·∫≠t" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week4/><b>1.4. </b>Tu·∫ßn 4: M·∫°ng & B·∫£o M·∫≠t
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1.-worklog/week5/ title="Tu·∫ßn 5: Gi√°m S√°t & Qu·∫£n L√Ω" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week5/><b>1.5. </b>Tu·∫ßn 5: Gi√°m S√°t & Qu·∫£n L√Ω
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1.-worklog/week6/ title="Tu·∫ßn 6: Ch·ªß ƒê·ªÅ N√¢ng Cao" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week6/><b>1.6. </b>Tu·∫ßn 6: Ch·ªß ƒê·ªÅ N√¢ng Cao
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1.-worklog/week7/ title="Tu·∫ßn 7" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week7/><b>1.7. </b>Tu·∫ßn 7
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1.-worklog/week8/ title="Tu·∫ßn 8" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week8/><b>1.8. </b>Tu·∫ßn 8
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/1.-worklog/week9/ title="Tu·∫ßn 9" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/1.-worklog/week9/><b>1.9. </b>Tu·∫ßn 9
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/3.-translated-blogs/ title="B√†i Vi·∫øt D·ªãch Thu·∫≠t" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/3.-translated-blogs/><b>3. </b>B√†i Vi·∫øt D·ªãch Thu·∫≠t
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/3.-translated-blogs/blog2/ title=" Humane World for Animals uses AWS to scale global animal welfare programs" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/3.-translated-blogs/blog2/><b>3.2. </b>Humane World for Animals uses AWS to scale global animal welfare programs
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3.-translated-blogs/blog1/ title="AWS Big Data Blog - OpenSearch Serverless Monitoring" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/3.-translated-blogs/blog1/><b>3.1. </b>AWS Big Data Blog - OpenSearch Serverless Monitoring
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/3.-translated-blogs/blog3/ title="AWS collaborates with Chugai Pharmaceutical Co. on quantum-inspired and constraint programming methods for cyclic peptide-protein docking" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/3.-translated-blogs/blog3/><b>3.3. </b>AWS collaborates with Chugai Pharmaceutical Co. on quantum-inspired and constraint programming methods for cyclic peptide-protein docking
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/4.-events/ title="C√°c Events ƒê√£ Tham Gia" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/4.-events/><b>4. </b>C√°c Events ƒê√£ Tham Gia
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/4.-events/event1/ title="Event 1" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/4.-events/event1/><b>4.1. </b>Event 1
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4.-events/event2/ title="Event 2" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/4.-events/event2/><b>4.2. </b>Event 2
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4.-events/event3/ title="Event 3" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/4.-events/event3/><b>4.3. </b>Event 3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4.-events/event4/ title="Event 4" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/4.-events/event4/><b>4.4. </b>Event 4
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4.-events/event5/ title="Event 5" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/4.-events/event5/><b>4.5. </b>Event 5
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4.-events/event6/ title="Event 6" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/4.-events/event6/><b>4.6. </b>Event 6
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/4.-events/event7/ title="Event 7" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/4.-events/event7/><b>4.7. </b>Event 7
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/ title=Workshop class="dd-item
parent"><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/><b>5. </b>Workshop
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/1-introduction/ title="Gi·ªõi thi·ªáu" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/1-introduction/><b>5.1. </b>Gi·ªõi thi·ªáu
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/2-backend/ title="Backend Workshop (BE)" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/2-backend/><b>5.2. </b>Backend Workshop (BE)
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/2-backend/2.1/ title="Chu·∫©n b·ªã & C·∫•u h√¨nh Lambda Trigger cho S3" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/2-backend/2.1/><b>5.2.1. </b>Chu·∫©n b·ªã & C·∫•u h√¨nh Lambda Trigger cho S3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/2-backend/2.2/ title="Ki·ªÉm tra d·ªØ li·ªáu trong DynamoDB" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/2-backend/2.2/><b>5.2.2. </b>Ki·ªÉm tra d·ªØ li·ªáu trong DynamoDB
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/2-backend/2.3/ title="T·∫°o API Gateway v√† t√≠ch h·ª£p Lambda" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/2-backend/2.3/><b>5.2.3. </b>T·∫°o API Gateway v√† t√≠ch h·ª£p Lambda
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/2-backend/2.4/ title="T·∫°o API Gateway v√† t√≠ch h·ª£p v·ªõi Lambda" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/2-backend/2.4/><b>5.2.4. </b>T·∫°o API Gateway v√† t√≠ch h·ª£p v·ªõi Lambda
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/2-backend/2.5/ title="Ki·ªÉm th·ª≠ API b·∫±ng Postman" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/2-backend/2.5/><b>5.2.5. </b>Ki·ªÉm th·ª≠ API b·∫±ng Postman
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/2-backend/2.6/ title="S3 CSV Backup" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/2-backend/2.6/><b>5.2.6. </b>S3 CSV Backup
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/2-backend/2.7/ title="T√≠ch h·ª£p aws x-ray" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/2-backend/2.7/><b>5.2.7. </b>T√≠ch h·ª£p aws x-ray
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/3-ai/ title="AI Workshop (Chatbot)" class="dd-item
parent"><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/><b>5.3. </b>AI Workshop (Chatbot)
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/3-ai/3.1/ title="T·∫°o VPC  & C·∫•u h√¨nh Sercurity Group cho RDS v√† Lambda" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/3.1/><b>5.3.1. </b>T·∫°o VPC & C·∫•u h√¨nh Sercurity Group cho RDS v√† Lambda
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/3-ai/3.2/ title="C·∫•u h√¨nh RDS v√† k·∫øt n·ªëi v·ªõi Dbeaver" class="dd-item
active"><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/3.2/><b>5.3.2. </b>C·∫•u h√¨nh RDS v√† k·∫øt n·ªëi v·ªõi Dbeaver
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/3-ai/3.3/ title="T·∫°o logic cho h√†m lambda" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/3.3/><b>5.3.3. </b>T·∫°o logic cho h√†m lambda
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/4-frontend/ title="Frontend Workshop (UI)" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/4-frontend/><b>5.4. </b>Frontend Workshop (UI)
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/vi/5-workshop/4-frontend/4.1/ title="Hosting website v·ªõi S3" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/4-frontend/4.1/><b>5.4.1. </b>Hosting website v·ªõi S3
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/4-frontend/4.2/ title="Ph√¢n ph·ªëi v·ªõi CloudFront" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/4-frontend/4.2/><b>5.4.2. </b>Ph√¢n ph·ªëi v·ªõi CloudFront
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/4-frontend/4.3/ title="K·∫øt n·ªëi v·ªõi API" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/4-frontend/4.3/><b>5.4.3. </b>K·∫øt n·ªëi v·ªõi API
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/5-workshop/5-cicd/ title="CI/CD Automation" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/5-cicd/><b>5.5. </b>CI/CD Automation
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/5-workshop/6-cleanup/ title="D·ªçn d·∫πp t√†i nguy√™n ƒë·ªÉ tr√°nh ph√°t sinh chi ph√≠" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/6-cleanup/><b>5.6. </b>D·ªçn d·∫πp t√†i nguy√™n ƒë·ªÉ tr√°nh ph√°t sinh chi ph√≠
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/vi/6.-self-ass/ title="T·ª± ƒë√°nh gi√°" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/6.-self-ass/><b>6. </b>T·ª± ƒë√°nh gi√°
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/7.-sharing-and-feedback/ title="Chia s·∫ª v√† Ph·∫£n h·ªìi" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/7.-sharing-and-feedback/><b>7. </b>Chia s·∫ª v√† Ph·∫£n h·ªìi
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/vi/2.-proposal/ title="ƒê·ªÅ xu·∫•t" class=dd-item><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/2.-proposal/><b>2. </b>ƒê·ªÅ xu·∫•t
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://www.facebook.com/groups/awsstudygroupfcj/><i class='fab fa-facebook'></i> AWS Study Group</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://bm-hien.github.io/AWS_InternshipReport_FCJ/5-workshop/3-ai/3.2/>English</option><option id=vi value=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/3.2/ selected>Ti·∫øng Vi·ªát</option></select>
<svg id="Capa_1" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><left><b>Workshop</b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title=Migrate alt="web counter" border=0></a><br><b><a href=https://cloudjourney.awsstudygroup.com/>Cloud Journey</a></b><br><img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" alt="web counter" border=0>
</left><left><br><br><b>Last Updated</b><br><i><font color=orange>30-01-2022</font></i>
</left><left><br><br><b>Team</b><br><i><a href=https://www.linkedin.com/in/sutrinh/ style=color:orange>S·ª≠ Tr·ªãnh</a><br><a href=https://www.linkedin.com/in/jotaguy style=color:orange>Gia H∆∞ng</a><br><a href=https://www.linkedin.com/in/hiepnguyendt style=color:orange>Thanh Hi·ªáp </a></i></left><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i>
</a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/>B√°o C√°o Th·ª±c T·∫≠p</a> > <a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/>Workshop</a> > <a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/>AI Workshop (Chatbot)</a> > C·∫•u h√¨nh RDS v√† k·∫øt n·ªëi v·ªõi Dbeaver</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#c·∫•u-h√¨nh-rds-v√†-k·∫øt-n·ªëi-v·ªõi-dbeaver>C·∫•u h√¨nh RDS v√† k·∫øt n·ªëi v·ªõi Dbeaver</a><ul><li><a href=#c√°c-b∆∞·ªõc-th·ª±c-hi·ªán>C√°c b∆∞·ªõc th·ª±c hi·ªán</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>C·∫•u h√¨nh RDS v√† k·∫øt n·ªëi v·ªõi Dbeaver</h1><h2 id=c·∫•u-h√¨nh-rds-v√†-k·∫øt-n·ªëi-v·ªõi-dbeaver>C·∫•u h√¨nh RDS v√† k·∫øt n·ªëi v·ªõi Dbeaver</h2><h3 id=c√°c-b∆∞·ªõc-th·ª±c-hi·ªán>C√°c b∆∞·ªõc th·ª±c hi·ªán</h3><h4 id=1-truy-c·∫≠p-d·ªãch-v·ª•-rds>1. Truy c·∫≠p d·ªãch v·ª• RDS</h4><ul><li>V√†o <strong>AWS Management Console</strong> ‚Üí t√¨m <strong>RDS</strong>.</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/rds_1.png alt=rds\_1></p><ul><li>Tr∆∞·ªõc khi t·∫°o RDS ch√∫ng ta s·∫Ω t·∫°o subnet group</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/rds_2.png alt=rds\_2></p><ul><li>ƒê·∫∑t t√™n cho subnet group v√† ch·ªçn <strong>VPC</strong> ƒë√£ t·∫°o</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/rds_3.png alt=rds\_3></p><ul><li>AZ ch·ªçn ap-southeast-1a v√† ap-southeast-1b Subnet ch·ªçn 2 private subnet sau ƒë√≥ ·∫•n Create</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/rds_4.png alt=rds\_4></p><h4 id=2-t·∫°o-rds>2. T·∫°o RDS</h4><ul><li>V√†o database ‚Üí Create database</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/rds_5.png alt=rds\_5></p><ul><li>·ªû ph·∫ßn c·∫•u h√¨nh database ch·ªçn Full configuration ch·ªçn <strong>PostgreSQL</strong> ·ªù ph·∫ßn Templates ch·ªçn Sandbox ·ªü ph·∫ßn Settings ƒë·∫∑t t√™n cho DB v√† ƒë·∫∑t m·∫≠t kh·∫©u</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/rds_6.png alt=rds\_6></p><ul><li>C·∫•u h√¨nh c√°c ph·∫ßn c√≤n l·∫°i nh∆∞ sau</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/rds_7.png alt=rds\_7></p><ul><li>·ªû ph·∫ßn Connectivity ch·ªçn <strong>VPC</strong> ƒë√£ t·∫°o v√† DB subnet group v√† Public access ch·ªçn <strong>No</strong> v√† ph·∫ßn VPC security group ch·ªçn Security group ƒë√£ t·∫°o cho RDS c√≤n l·∫°i gi·ªØ nguy√™n v√† b·∫•m Create</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/rds_8.png alt=rds\_8></p><h4 id=1-l∆∞u-tr·ªØ-d·ªØ-li·ªáu-v√†-k·∫øt-n·ªëi-postgresql-b·∫±ng-dbeaver>1. L∆∞u tr·ªØ d·ªØ li·ªáu v√† k·∫øt n·ªëi PostgreSQL b·∫±ng DBeaver</h4><ul><li>B·∫°n c√≥ th·ªÉ t·∫£i <strong>Dbeaver</strong> t·∫°i ƒë√¢y: <a href=https://dbeaver.io/>https://dbeaver.io/</a></li></ul><div class="notices info"><p>T·∫£i file knowledge_base t·ª´ <a href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/files/knowledge_base.zip>ƒë√¢y</a>.</p></div><ul><li><p>ƒê·ªÉ c√≥ th·ªÉ k·∫øt n·ªëi t·ª´ m√°y local t·ªõi <strong>Dbeaver</strong> ch√∫ng ta c·∫ßn t·∫°o m·ªôt <strong>EC2</strong> ƒë·ªÉ c√≥ th·ªÉ l√†m c·∫ßu n·ªëi</p></li><li><p>Truy c·∫≠p v√†o <strong>EC2</strong> ‚Üí Launch instance</p></li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_1.png alt=ec2\_1></p><ul><li>ƒê·∫∑t t√™n cho <strong>EC2</strong> v√† ch·ªçn Instance type t2.micro t·∫°o m·ªôt key pair v√† l∆∞u trong m√°y</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_2.png alt=ec2\_2></p><ul><li>·ªû ph·∫ßn Network settings ch·ªçn <strong>VPC</strong> ƒë√£ t·∫°o ch·ªçn public subnet v√† t·∫°o m·ªôt Security group</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_3.png alt=ec2\_3></p><ul><li>Inbound Security Group Rules ch·ªçn my ip xong Launch instance</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_4.png alt=ec2\_4></p><ul><li>Ti·∫øp theo ch√∫ng ta s·∫Ω qua ph·∫ßn Security group c·ªßa <strong>RDS</strong> ch·ªânh s·ª≠a ph·∫ßn inbound rules ch√∫ng ta s·∫Ω add rule m·ªõi type: <strong>PostgreSQL</strong> v√† Source l√† <strong>EC2</strong> v·ª´a t·∫°o</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_5.png alt=ec2\_5></p><ul><li>Truy c·∫≠p v√†o dbeaver ·∫•n v√†o ph·∫ßn connection</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_6.png alt=ec2\_6></p><ul><li>Ch·ªçn PostgreSQL ·ªü ph·∫ßn Host copy port Endpoint c·ªßa RDS v√† c√°c th√¥ng tin b·∫°n ƒë√£ t·∫°o RDS t·ª´ ƒë·∫ßu</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_7.png alt=ec2\_7></p><ul><li>·∫§n v√†o d·∫•u + SSH ·ªü ph·∫ßn Host/IP copy public IP c·ªßa <strong>EC2</strong> User Name ƒëi·ªÅn <code>ec2-user</code> ·ªü ph·∫ßn Authentication Method ch·ªçn Public Key v√† ch·ªçn key pair ƒë√£ t·∫°o l√∫c t·∫°o <strong>EC2</strong> sau ƒë√≥ ·∫•n Test connection r·ªìi Finish</li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_8.png alt=ec2\_8></p><ul><li><p>Sau khi k·∫øt n·ªëi th√†nh c√¥ng m·ªü sql script v√† d√°n d√≤ng code n√†y ƒë·ªÉ t·∫°o b·∫£ng knowledge_base sau khi t·∫°o b·∫£ng refresh l·∫°i database ƒë·ªÉ hi·ªán b·∫£ng knowledge_base</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span>    <span style=color:#75715e>-- 1. B·∫≠t extension vector (ch·ªâ ch·∫°y 1 l·∫ßn)
</span></span></span><span style=display:flex><span>    <span style=color:#66d9ef>CREATE</span> EXTENSION <span style=color:#66d9ef>IF</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>EXISTS</span> vector;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>-- 2. T·∫°o b·∫£ng ki·∫øn th·ª©c (Knowledge Base)
</span></span></span><span style=display:flex><span>    <span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>TABLE</span> knowledge_base (
</span></span><span style=display:flex><span>    id bigserial <span style=color:#66d9ef>PRIMARY</span> <span style=color:#66d9ef>KEY</span>,
</span></span><span style=display:flex><span>    content text,             <span style=color:#75715e>-- N·ªôi dung text g·ªëc (ƒëo·∫°n vƒÉn ƒë√£ chia nh·ªè)
</span></span></span><span style=display:flex><span>    metadata jsonb,           <span style=color:#75715e>-- L∆∞u th√™m info: link ·∫£nh, t√™n file, page number...
</span></span></span><span style=display:flex><span>    embedding vector(<span style=color:#ae81ff>1024</span>)    <span style=color:#75715e>-- QUAN TR·ªåNG: Ph·∫£i l√† 1024 cho Cohere Multilingual
</span></span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>-- 3. T·∫°o index ƒë·ªÉ t√¨m ki·∫øm nhanh h∆°n
</span></span></span><span style=display:flex><span>    <span style=color:#66d9ef>CREATE</span> <span style=color:#66d9ef>INDEX</span> <span style=color:#66d9ef>ON</span> knowledge_base <span style=color:#66d9ef>USING</span> hnsw (embedding vector_cosine_ops)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>WITH</span> (m <span style=color:#f92672>=</span> <span style=color:#ae81ff>16</span>, ef_construction <span style=color:#f92672>=</span> <span style=color:#ae81ff>64</span>);
</span></span></code></pre></div></li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_9.png alt=ec2\_9></p><ul><li><p>ƒê·ªÉ c√≥ th·ªÉ import d·ªØ li·ªáu v√†o Dbeaver b·∫±ng python ch√∫ng ta c·∫ßn ssh th√¥ng qua cmd ch√∫ng ta s·∫Ω m·ªü cmd ·ªü n∆°i l∆∞u tr·ªØ keypair v√† copy c√¢u l·ªánh n√†y</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>ssh -i <span style=color:#e6db74>&#34;my-key.pem&#34;</span> -L 5433:RDS endpoint port:5432 ec2-user@public IP EC2 -N
</span></span></code></pre></div></li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_10.png alt=ec2\_10></p><ul><li><p>Sau ƒë√≥ ch√∫ng ta ch·∫°y h√†m python n√†y ƒë·ªÉ import d·ªØ li·ªáu v√¥ Dbeaver</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> pandas <span style=color:#66d9ef>as</span> pd
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> json
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> boto3
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> psycopg2
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> glob
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> dotenv <span style=color:#f92672>import</span> load_dotenv
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 1. C·∫§U H√åNH &amp; B·∫¢O M·∫¨T</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span>current_dir <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>dirname(os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>abspath(__file__))
</span></span><span style=display:flex><span>env_path <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>join(current_dir, <span style=color:#e6db74>&#39;pass.env&#39;</span>)
</span></span><span style=display:flex><span>load_dotenv(env_path)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>CSV_FOLDER <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;./database&#39;</span> 
</span></span><span style=display:flex><span>DB_HOST <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>getenv(<span style=color:#e6db74>&#34;DB_HOST&#34;</span>)
</span></span><span style=display:flex><span>DB_NAME <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>getenv(<span style=color:#e6db74>&#34;DB_NAME&#34;</span>)
</span></span><span style=display:flex><span>DB_USER <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>getenv(<span style=color:#e6db74>&#34;DB_USER&#34;</span>)
</span></span><span style=display:flex><span>DB_PASS <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>getenv(<span style=color:#e6db74>&#34;DB_PASS&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># K·∫øt n·ªëi AWS</span>
</span></span><span style=display:flex><span>bedrock <span style=color:#f92672>=</span> boto3<span style=color:#f92672>.</span>client(
</span></span><span style=display:flex><span>    service_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;bedrock-runtime&#39;</span>, 
</span></span><span style=display:flex><span>    region_name<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;ap-southeast-1&#39;</span>, 
</span></span><span style=display:flex><span>    aws_access_key_id<span style=color:#f92672>=</span>os<span style=color:#f92672>.</span>getenv(<span style=color:#e6db74>&#34;aws_access_key_id&#34;</span>),
</span></span><span style=display:flex><span>    aws_secret_access_key<span style=color:#f92672>=</span>os<span style=color:#f92672>.</span>getenv(<span style=color:#e6db74>&#34;aws_secret_access_key&#34;</span>)
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2. T·ª™ ƒêI·ªÇN D·ªäCH (QUAN TR·ªåNG NH·∫§T)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ==========================================</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># A. D·ªãch T√™n C·ªôt (Cho AI hi·ªÉu ng·ªØ c·∫£nh)</span>
</span></span><span style=display:flex><span>COLUMN_MAP <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;price&#34;</span>: <span style=color:#e6db74>&#34;Gi√° b√°n&#34;</span>, <span style=color:#e6db74>&#34;gia&#34;</span>: <span style=color:#e6db74>&#34;Gi√° b√°n&#34;</span>, <span style=color:#e6db74>&#34;cost&#34;</span>: <span style=color:#e6db74>&#34;Chi ph√≠&#34;</span>, <span style=color:#e6db74>&#34;fee&#34;</span>: <span style=color:#e6db74>&#34;Ph√≠&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;stock&#34;</span>: <span style=color:#e6db74>&#34;T·ªìn kho&#34;</span>, <span style=color:#e6db74>&#34;so_luong&#34;</span>: <span style=color:#e6db74>&#34;T·ªìn kho&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;M√¥ t·∫£&#34;</span>, <span style=color:#e6db74>&#34;mo_ta&#34;</span>: <span style=color:#e6db74>&#34;M√¥ t·∫£&#34;</span>, <span style=color:#e6db74>&#34;chi_tiet&#34;</span>: <span style=color:#e6db74>&#34;Chi ti·∫øt&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;origin&#34;</span>: <span style=color:#e6db74>&#34;Xu·∫•t x·ª©&#34;</span>, <span style=color:#e6db74>&#34;xuat_xu&#34;</span>: <span style=color:#e6db74>&#34;Xu·∫•t x·ª©&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;material&#34;</span>: <span style=color:#e6db74>&#34;Ch·∫•t li·ªáu&#34;</span>, <span style=color:#e6db74>&#34;chat_lieu&#34;</span>: <span style=color:#e6db74>&#34;Ch·∫•t li·ªáu&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;color&#34;</span>: <span style=color:#e6db74>&#34;M√†u s·∫Øc&#34;</span>, <span style=color:#e6db74>&#34;mau_sac&#34;</span>: <span style=color:#e6db74>&#34;M√†u s·∫Øc&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;weight&#34;</span>: <span style=color:#e6db74>&#34;Tr·ªçng l∆∞·ª£ng&#34;</span>, <span style=color:#e6db74>&#34;trong_luong&#34;</span>: <span style=color:#e6db74>&#34;Tr·ªçng l∆∞·ª£ng&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;food_type&#34;</span>: <span style=color:#e6db74>&#34;Lo·∫°i th·ª©c ƒÉn&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;usage_target&#34;</span>: <span style=color:#e6db74>&#34;Ph√π h·ª£p cho lo√†i chim&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;furniture_type&#34;</span>: <span style=color:#e6db74>&#34;Lo·∫°i n·ªôi th·∫•t&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;time&#34;</span>: <span style=color:#e6db74>&#34;Th·ªùi gian x·ª≠ l√Ω&#34;</span>, <span style=color:#e6db74>&#34;thoi_gian&#34;</span>: <span style=color:#e6db74>&#34;Th·ªùi gian x·ª≠ l√Ω&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;method_name&#34;</span>: <span style=color:#e6db74>&#34;T√™n ph∆∞∆°ng th·ª©c&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># B. D·ªãch Gi√° Tr·ªã (Cho Website hi·ªÉn th·ªã ti·∫øng Vi·ªát) &lt;--- PH·∫¶N B·∫†N C·∫¶N</span>
</span></span><span style=display:flex><span>VALUE_TRANSLATIONS <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;FOODS&#34;</span>: <span style=color:#e6db74>&#34;ƒê·ªì ƒÉn&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Foods&#34;</span>: <span style=color:#e6db74>&#34;ƒê·ªì ƒÉn&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;foods&#34;</span>: <span style=color:#e6db74>&#34;ƒê·ªì ƒÉn&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;TOYS&#34;</span>: <span style=color:#e6db74>&#34;ƒê·ªì ch∆°i&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Toys&#34;</span>: <span style=color:#e6db74>&#34;ƒê·ªì ch∆°i&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;toys&#34;</span>: <span style=color:#e6db74>&#34;ƒê·ªì ch∆°i&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;FURNITURE&#34;</span>: <span style=color:#e6db74>&#34;N·ªôi th·∫•t&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Furniture&#34;</span>: <span style=color:#e6db74>&#34;N·ªôi th·∫•t&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;furniture&#34;</span>: <span style=color:#e6db74>&#34;N·ªôi th·∫•t&#34;</span>,
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;Bird&#34;</span>: <span style=color:#e6db74>&#34;Chim c·∫£nh&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;bird&#34;</span>: <span style=color:#e6db74>&#34;Chim c·∫£nh&#34;</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># --- C√ÅC H√ÄM PH·ª§ TR·ª¢ ---</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_embedding</span>(text):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> text <span style=color:#f92672>or</span> len(str(text)) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>: <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>        body <span style=color:#f92672>=</span> json<span style=color:#f92672>.</span>dumps({<span style=color:#e6db74>&#34;texts&#34;</span>: [str(text)], <span style=color:#e6db74>&#34;input_type&#34;</span>: <span style=color:#e6db74>&#34;search_document&#34;</span>, <span style=color:#e6db74>&#34;truncate&#34;</span>: <span style=color:#e6db74>&#34;END&#34;</span>})
</span></span><span style=display:flex><span>        response <span style=color:#f92672>=</span> bedrock<span style=color:#f92672>.</span>invoke_model(body<span style=color:#f92672>=</span>body, modelId<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;cohere.embed-multilingual-v3&#34;</span>, accept<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;application/json&#34;</span>, contentType<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;application/json&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> json<span style=color:#f92672>.</span>loads(response[<span style=color:#e6db74>&#39;body&#39;</span>]<span style=color:#f92672>.</span>read())[<span style=color:#e6db74>&#39;embeddings&#39;</span>][<span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span>: <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>clean</span>(val):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> pd<span style=color:#f92672>.</span>isna(val) <span style=color:#f92672>or</span> str(val)<span style=color:#f92672>.</span>lower() <span style=color:#f92672>in</span> [<span style=color:#e6db74>&#39;nan&#39;</span>, <span style=color:#e6db74>&#39;none&#39;</span>, <span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;null&#39;</span>]: <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    val_str <span style=color:#f92672>=</span> str(val)<span style=color:#f92672>.</span>strip()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># --- D·ªäCH T·ª∞ ƒê·ªòNG ·ªû ƒê√ÇY ---</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># N·∫øu gi√° tr·ªã c√≥ trong t·ª´ ƒëi·ªÉn d·ªãch th√¨ thay th·∫ø lu√¥n</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> val_str <span style=color:#f92672>in</span> VALUE_TRANSLATIONS:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> VALUE_TRANSLATIONS[val_str]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> val_str
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>        conn <span style=color:#f92672>=</span> psycopg2<span style=color:#f92672>.</span>connect(host<span style=color:#f92672>=</span>DB_HOST, database<span style=color:#f92672>=</span>DB_NAME, user<span style=color:#f92672>=</span>DB_USER, password<span style=color:#f92672>=</span>DB_PASS, port<span style=color:#f92672>=</span><span style=color:#ae81ff>5433</span>) <span style=color:#75715e># L∆∞u √Ω port SSH 5433</span>
</span></span><span style=display:flex><span>        cur <span style=color:#f92672>=</span> conn<span style=color:#f92672>.</span>cursor()
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;‚úÖ K·∫øt n·ªëi Database th√†nh c√¥ng!&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;‚ùå L·ªói k·∫øt n·ªëi DB: </span><span style=color:#e6db74>{</span>e<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>); <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    csv_files <span style=color:#f92672>=</span> glob<span style=color:#f92672>.</span>glob(os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>join(CSV_FOLDER, <span style=color:#e6db74>&#34;*.csv&#34;</span>))
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;üìÇ T√¨m th·∫•y </span><span style=color:#e6db74>{</span>len(csv_files)<span style=color:#e6db74>}</span><span style=color:#e6db74> file CSV.&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Bi·∫øn th·ªëng k√™</span>
</span></span><span style=display:flex><span>    stats <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#34;bird&#34;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#34;food&#34;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#34;toy&#34;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#34;furniture&#34;</span>: <span style=color:#ae81ff>0</span>, <span style=color:#e6db74>&#34;best_sellers&#34;</span>: []}
</span></span><span style=display:flex><span>    total_success <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> file_path <span style=color:#f92672>in</span> csv_files:
</span></span><span style=display:flex><span>        filename <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>basename(file_path)<span style=color:#f92672>.</span>lower()
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>--- ƒêang x·ª≠ l√Ω file: </span><span style=color:#e6db74>{</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74> ---&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>            df <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_csv(file_path)
</span></span><span style=display:flex><span>            df <span style=color:#f92672>=</span> df<span style=color:#f92672>.</span>replace({np<span style=color:#f92672>.</span>nan: <span style=color:#66d9ef>None</span>}) 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#75715e># T·ª± ƒë·ªông nh·∫≠n di·ªán lo·∫°i (Prefix)</span>
</span></span><span style=display:flex><span>            category_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;S·∫£n ph·∫©m&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;bird&#34;</span> <span style=color:#f92672>in</span> filename: category_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Lo√†i chim&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> <span style=color:#e6db74>&#34;food&#34;</span> <span style=color:#f92672>in</span> filename: category_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Th·ª©c ƒÉn chim&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> <span style=color:#e6db74>&#34;toy&#34;</span> <span style=color:#f92672>in</span> filename <span style=color:#f92672>or</span> <span style=color:#e6db74>&#34;do_choi&#34;</span> <span style=color:#f92672>in</span> filename: category_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;ƒê·ªì ch∆°i chim&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> <span style=color:#e6db74>&#34;furniture&#34;</span> <span style=color:#f92672>in</span> filename: category_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;N·ªôi th·∫•t l·ªìng chim&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> <span style=color:#e6db74>&#34;ship&#34;</span> <span style=color:#f92672>in</span> filename <span style=color:#f92672>or</span> <span style=color:#e6db74>&#34;delivery&#34;</span> <span style=color:#f92672>in</span> filename: category_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Ph∆∞∆°ng th·ª©c v·∫≠n chuy·ªÉn&#34;</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>elif</span> <span style=color:#e6db74>&#34;payment&#34;</span> <span style=color:#f92672>in</span> filename: category_prefix <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Ph∆∞∆°ng th·ª©c thanh to√°n&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> index, row <span style=color:#f92672>in</span> df<span style=color:#f92672>.</span>iterrows():
</span></span><span style=display:flex><span>                <span style=color:#75715e># Th·ªëng k√™</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#e6db74>&#34;bird&#34;</span> <span style=color:#f92672>in</span> filename: stats[<span style=color:#e6db74>&#34;bird&#34;</span>] <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>elif</span> <span style=color:#e6db74>&#34;food&#34;</span> <span style=color:#f92672>in</span> filename: stats[<span style=color:#e6db74>&#34;food&#34;</span>] <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>elif</span> <span style=color:#e6db74>&#34;toy&#34;</span> <span style=color:#f92672>in</span> filename: stats[<span style=color:#e6db74>&#34;toy&#34;</span>] <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>elif</span> <span style=color:#e6db74>&#34;furniture&#34;</span> <span style=color:#f92672>in</span> filename: stats[<span style=color:#e6db74>&#34;furniture&#34;</span>] <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># A. ƒê·ªäNH DANH</span>
</span></span><span style=display:flex><span>                p_id <span style=color:#f92672>=</span> clean(row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;id&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;product_id&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;payment_id&#39;</span>))
</span></span><span style=display:flex><span>                name <span style=color:#f92672>=</span> clean(row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;name&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;product_name&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;title&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;method_name&#39;</span>))
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> name: 
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> p_id: name <span style=color:#f92672>=</span> <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;M√£ </span><span style=color:#e6db74>{</span>p_id<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>else</span>: <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># B. QU√âT C·ªòT T·ª∞ ƒê·ªòNG V√Ä D·ªäCH</span>
</span></span><span style=display:flex><span>                content_parts <span style=color:#f92672>=</span> [<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>category_prefix<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># Qu√©t to√†n b·ªô c·ªôt, n·∫øu c√≥ trong COLUMN_MAP th√¨ th√™m v√†o</span>
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> col_key, col_val <span style=color:#f92672>in</span> row<span style=color:#f92672>.</span>items():
</span></span><span style=display:flex><span>                    val_clean <span style=color:#f92672>=</span> clean(col_val) <span style=color:#75715e># H√†m clean s·∫Ω t·ª± ƒë·ªông d·ªãch FOODS -&gt; ƒê·ªì ƒÉn</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> val_clean <span style=color:#f92672>and</span> col_key <span style=color:#f92672>in</span> COLUMN_MAP:
</span></span><span style=display:flex><span>                        content_parts<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>COLUMN_MAP[col_key]<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>val_clean<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># C. X·ª¨ L√ù RI√äNG GI√Å &amp; T·ªíN KHO &amp; B√ÅN CH·∫†Y</span>
</span></span><span style=display:flex><span>                price <span style=color:#f92672>=</span> clean(row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;price&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;gia&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;fee&#39;</span>))
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> price: content_parts<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Gi√°: </span><span style=color:#e6db74>{</span>price<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                stock <span style=color:#f92672>=</span> clean(row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;stock&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;so_luong&#39;</span>))
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> stock: content_parts<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;T·ªìn kho: </span><span style=color:#e6db74>{</span>stock<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                sold <span style=color:#f92672>=</span> clean(row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;sold&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;da_ban&#39;</span>))
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> sold:
</span></span><span style=display:flex><span>                    content_parts<span style=color:#f92672>.</span>append(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;ƒê√£ b√°n: </span><span style=color:#e6db74>{</span>sold<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>try</span>:
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> float(sold) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>: stats[<span style=color:#e6db74>&#34;best_sellers&#34;</span>]<span style=color:#f92672>.</span>append((float(sold), name, category_prefix))
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>except</span>: <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                content_to_embed <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;. &#34;</span><span style=color:#f92672>.</span>join(content_parts) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;.&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># D. T·∫†O METADATA (C≈©ng d√πng gi√° tr·ªã ƒë√£ d·ªãch)</span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># L∆∞u √Ω: H√†m clean() ·ªü tr√™n ƒë√£ d·ªãch r·ªìi, n√™n ta g·ªçi l·∫°i clean() cho t·ª´ng field</span>
</span></span><span style=display:flex><span>                metadata <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>for</span> k, v <span style=color:#f92672>in</span> row<span style=color:#f92672>.</span>items():
</span></span><span style=display:flex><span>                    metadata[k] <span style=color:#f92672>=</span> clean(v) <span style=color:#75715e># L∆∞u v√†o metadata b·∫£n ti·∫øng Vi·ªát lu√¥n</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># Ghi ƒë√® c√°c tr∆∞·ªùng chu·∫©n</span>
</span></span><span style=display:flex><span>                metadata[<span style=color:#e6db74>&#39;id&#39;</span>] <span style=color:#f92672>=</span> p_id
</span></span><span style=display:flex><span>                metadata[<span style=color:#e6db74>&#39;name&#39;</span>] <span style=color:#f92672>=</span> name
</span></span><span style=display:flex><span>                metadata[<span style=color:#e6db74>&#39;price&#39;</span>] <span style=color:#f92672>=</span> price <span style=color:#66d9ef>if</span> price <span style=color:#66d9ef>else</span> <span style=color:#e6db74>&#34;Li√™n h·ªá&#34;</span>
</span></span><span style=display:flex><span>                metadata[<span style=color:#e6db74>&#39;type&#39;</span>] <span style=color:#f92672>=</span> category_prefix
</span></span><span style=display:flex><span>                metadata[<span style=color:#e6db74>&#39;image&#39;</span>] <span style=color:#f92672>=</span> clean(row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;image_url&#39;</span>) <span style=color:#f92672>or</span> row<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;link_anh&#39;</span>))
</span></span><span style=display:flex><span>                metadata[<span style=color:#e6db74>&#39;sold&#39;</span>] <span style=color:#f92672>=</span> sold
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                <span style=color:#75715e># E. INSERT</span>
</span></span><span style=display:flex><span>                vector <span style=color:#f92672>=</span> get_embedding(content_to_embed)
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> vector:
</span></span><span style=display:flex><span>                    cur<span style=color:#f92672>.</span>execute(
</span></span><span style=display:flex><span>                        <span style=color:#e6db74>&#34;INSERT INTO knowledge_base (content, embedding, metadata) VALUES (</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>, </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>, </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>)&#34;</span>,
</span></span><span style=display:flex><span>                        (content_to_embed, json<span style=color:#f92672>.</span>dumps(vector), json<span style=color:#f92672>.</span>dumps(metadata, default<span style=color:#f92672>=</span>str))
</span></span><span style=display:flex><span>                    )
</span></span><span style=display:flex><span>                    total_success <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> total_success <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>                        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;   -&gt; ƒê√£ n·∫°p </span><span style=color:#e6db74>{</span>total_success<span style=color:#e6db74>}</span><span style=color:#e6db74> d√≤ng...&#34;</span>)
</span></span><span style=display:flex><span>                        conn<span style=color:#f92672>.</span>commit()
</span></span><span style=display:flex><span>                        time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>0.1</span>) 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span> <span style=color:#66d9ef>as</span> e:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;‚ö†Ô∏è L·ªói x·ª≠ l√Ω file </span><span style=color:#e6db74>{</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>: </span><span style=color:#e6db74>{</span>e<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>); <span style=color:#66d9ef>continue</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># --- T·∫†O B·∫¢N TIN TH·ªêNG K√ä ---</span>
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>--- ƒêang t·∫°o b·∫£n tin th·ªëng k√™... ---&#34;</span>)
</span></span><span style=display:flex><span>    top_products <span style=color:#f92672>=</span> sorted(stats[<span style=color:#e6db74>&#34;best_sellers&#34;</span>], key<span style=color:#f92672>=</span><span style=color:#66d9ef>lambda</span> x: x[<span style=color:#ae81ff>0</span>], reverse<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)[:<span style=color:#ae81ff>5</span>]
</span></span><span style=display:flex><span>    top_names <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;, &#34;</span><span style=color:#f92672>.</span>join([<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>{</span>p[<span style=color:#ae81ff>1</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74> (</span><span style=color:#e6db74>{</span>int(p[<span style=color:#ae81ff>0</span>])<span style=color:#e6db74>}</span><span style=color:#e6db74> l∆∞·ª£t mua)&#34;</span> <span style=color:#66d9ef>for</span> p <span style=color:#f92672>in</span> top_products])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    summary_content <span style=color:#f92672>=</span> (
</span></span><span style=display:flex><span>        <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;B√ÅO C√ÅO TH·ªêNG K√ä SHOP CHIM: &#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;T·ªïng s·ªë chim: </span><span style=color:#e6db74>{</span>stats[<span style=color:#e6db74>&#39;bird&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>. ƒê·ªì ƒÉn: </span><span style=color:#e6db74>{</span>stats[<span style=color:#e6db74>&#39;food&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>. &#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;ƒê·ªì ch∆°i: </span><span style=color:#e6db74>{</span>stats[<span style=color:#e6db74>&#39;toy&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>. N·ªôi th·∫•t: </span><span style=color:#e6db74>{</span>stats[<span style=color:#e6db74>&#39;furniture&#39;</span>]<span style=color:#e6db74>}</span><span style=color:#e6db74>. &#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;TOP 5 S·∫¢N PH·∫®M B√ÅN CH·∫†Y NH·∫§T: </span><span style=color:#e6db74>{</span>top_names<span style=color:#e6db74>}</span><span style=color:#e6db74>.&#34;</span>
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    summary_vector <span style=color:#f92672>=</span> get_embedding(summary_content)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> summary_vector:
</span></span><span style=display:flex><span>        cur<span style=color:#f92672>.</span>execute(<span style=color:#e6db74>&#34;INSERT INTO knowledge_base (content, embedding, metadata) VALUES (</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>, </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>, </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>)&#34;</span>,
</span></span><span style=display:flex><span>                    (summary_content, json<span style=color:#f92672>.</span>dumps(summary_vector), json<span style=color:#f92672>.</span>dumps({<span style=color:#e6db74>&#34;id&#34;</span>:<span style=color:#e6db74>&#34;STATS&#34;</span>,<span style=color:#e6db74>&#34;name&#34;</span>:<span style=color:#e6db74>&#34;Th·ªëng k√™&#34;</span>}, default<span style=color:#f92672>=</span>str)))
</span></span><span style=display:flex><span>        conn<span style=color:#f92672>.</span>commit()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    cur<span style=color:#f92672>.</span>close(); conn<span style=color:#f92672>.</span>close()
</span></span><span style=display:flex><span>    print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>üéâ HO√ÄN T·∫§T! T·ªïng c·ªông ƒë√£ import: </span><span style=color:#e6db74>{</span>total_success <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74> d√≤ng.&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div></li><li><p>Sau khi import xong refresh l·∫°i b·∫£ng knowledge_base ƒë·ªÉ th·∫•y k·∫øt qu·∫£</p></li></ul><p><img src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/images/5-Workshop/2.prerequisite/ec2_11.png alt=ec2\_11></p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/3.1/ title="T·∫°o VPC  & C·∫•u h√¨nh Sercurity Group cho RDS v√† Lambda"><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/vi/5-workshop/3-ai/3.3/ title="T·∫°o logic cho h√†m lambda" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1e3px;overflow:scroll;position:absolute;top:-1e3px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/clipboard.min.js?1768200904></script><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/perfect-scrollbar.min.js?1768200904></script><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/perfect-scrollbar.jquery.min.js?1768200904></script><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/jquery.sticky.js?1768200904></script><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/featherlight.min.js?1768200904></script><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/highlight.pack.js?1768200904></script><script>hljs.initHighlightingOnLoad()</script><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/modernizr.custom-3.6.0.js?1768200904></script><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/learn.js?1768200904></script><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/js/hugo-learn.js?1768200904></script><link href=https://bm-hien.github.io/AWS_InternshipReport_FCJ/mermaid/mermaid.css?1768200904 rel=stylesheet><script src=https://bm-hien.github.io/AWS_InternshipReport_FCJ/mermaid/mermaid.js?1768200904></script><script>mermaid.initialize({startOnLoad:!0})</script><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-158079754-2","auto"),ga("send","pageview")</script></body></html>